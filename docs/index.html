<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>nestjs-ogma documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	      <link rel="stylesheet" href="./styles/style.css">
        <link rel="stylesheet" href="./styles/readthedocs.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">nestjs-ogma documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<div align="center">

<p><a href="https://sonarcloud.io/dashboard?id=jmcdo29_ogma"><img src="https://sonarcloud.io/api/project_badges/measure?project=jmcdo29_nestjs-ogma&metric=alert_status" alt="Quality Gate Status" class="img-responsive"></a> <a href="http://commitizen.github.io/cz-cli/"><img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg" alt="Commitizen friendly" class="img-responsive"></a> <a href="https://github.com/jmcdo29/nestjs-ogma/workflows/CI/badge.svg"><img src="https://github.com/jmcdo29/nestjs-ogma/workflows/CI/badge.svg" alt="Actions Status" class="img-responsive"></a></p>
</div>

<h1 id="nestjs-ogma">nestjs-ogma</h1>
<p>A <a href="https://docs.nestjs.com">NestJS module</a> for the <a href="https://github.com/jmcdo29/ogma">Ogma</a> logging package.</p>
<h2 id="usage">Usage</h2>
<p>The OgmaService class is TRANSIENT scoped, which means that for each time you call <code>OgmaModule.forFeature()</code> a new instance of the <code>OgmaService</code> is created, and a new context is given to that OgmaService if one is provided. The base Ogma class, will also be created as you are able to pass in options for the ogma class. This allows you to give each of your OgmaService&#39;s different logLevel configurations, which can be a big win.</p>
<p>Ogma is a lightweight logger with customization options, that prints your logs in a pretty manner with timestamping, colors, and different levels. See the GitHub repository for Ogma to learn more about configuration and options.</p>
<h2 id="configuration">Configuration</h2>
<p>In your root module, import <code>OgmaModule.forRoot</code> or <code>OgmaModule.forRootAsync</code> to apply application wide settings, such as <code>color</code>, <code>json</code>, and <code>application</code>. You can also set a default context as a fallback if no context is passed in the <code>forFeature</code> static method. You can use the standard method of async module configuration meaning <code>useClass</code>, <code>useValue</code>, and <code>useFactory</code> are all available methods to work with.</p>
<div><pre class="line-numbers"><code class="language-ts">&#64;Module({
  imports: [
    OgmaModule.forRoot({
      color: true,
      json: false,
      application: &#39;NestJS&#39;
    })
  ]
})
export class AppModule {}</code></pre></div><p>or async</p>
<div><pre class="line-numbers"><code class="language-ts">&#64;Module({
  imports: [
    OgmaModule.forRootAsync({
      useFactory: (config: ConfigService) =&gt; ({
        json: config.isProd(),
        stream: {
          write: (message) =&gt;
            appendFile(config.getLogFile(), message, (err) =&gt; {
              if (err) {
                throw err;
              }
            })
        },
        application: config.getAppName()
      })
    })
  ]
})
export class AppModule {}</code></pre></div><p>From here in each module you need to add the <code>OgmaService</code> you can add <code>OgmaModule.forFeature(context, option)</code>, where context is the context you want to add to the log and options are <code>OgmaOptions</code> you want to pass to override the originally configured options.</p>
<div><pre class="line-numbers"><code class="language-ts">&#64;Module({
  imports: [OgmaModule.forFeature(MyService.name, { color: false })],
  providers: [MyService]
})
export class MyModule {}</code></pre></div><p>The above would set up the OgmaService to add the context of <code>[MyService]</code> to every log from within the <code>MyModule</code> module, and would tell the <code>Ogma</code> instance to not use any colors.</p>














                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'index.html';
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="./js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="./js/menu-wc.js" defer></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
